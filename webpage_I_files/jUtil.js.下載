function getParameterByName(a) {
    var b = encodeURI(window.location.toString()),
        c = "";
    if (-1 != b.indexOf("?")) {
        var d = b.split("?")[1].split("&"),
            e;
        for (e in d) b = d[e].toString().split("=")[0], b == a && (c = d[e].toString().split("=")[1])
    }
    return c
}

function getParameterByUrlAndName(a, b) {
    var c = encodeURI(a),
        d = "";
    if (-1 != c.indexOf("?")) {
        var e = c.split("?")[1].split("&"),
            f;
        for (f in e) c = e[f].toString().split("=")[0], c == b && (d = e[f].toString().split("=")[1])
    }
    return d
}
$(function () {
    var a = getParameterByName("n");
    $(".minor-nav").find("ul").find("a").each(function () {
        "" != a && getParameterByUrlAndName($(this).attr("href"), "n") == a && $(this).parent().parent().addClass("is-active")
    })
});
$(function () {
    $("[data-ccms_hitcount]").click(function () {
        var b = "/Common/GetVisitcount.ashx?s=" + $(this).data("ccms_hitcount") + "&sms=" + getParameterByName("sms") + "&n=" + getParameterByName("n");
        $.ajax({
            url: b,
            type: "GET",
            success: function (c) { }
        })
    });
    $("[data-ccms_hitcount_relfile]").each(function () {
        $(this).click(function (b) {
            b = "/Common/GetVisitcount.ashx?type=relfile&s=" + $(this).data("ccms_hitcount_relfile");
            $.ajax({
                url: b,
                contentType: "text/plain",
                type: "GET",
                success: function (c) { }
            })
        })
    });
    if ("undefined" != typeof CCMS_SitesSN_Encryption) {
        var a =
            "/Common/GetVisitcount.ashx?sitessn=" + CCMS_SitesSN_Encryption;
        window.getParameterByName && "" != getParameterByName("n") && (a = a + "&n=" + getParameterByName("n") + "&sms=" + getParameterByName("sms") + "&s=" + getParameterByName("s"));
        $.ajax({
            url: a,
            contentType: "text/plain",
            type: "GET",
            success: function (b) {
                $("#footer_visitcount_span") && $("#footer_visitcount_span").html(b)
            }
        })
    }
});
$(function () {
    $(".btngo_quicklink").click(function () {
        var a = $("#" + $(this).data("selectid")).find(":selected"),
            b = a.data("isnewwindow") ? "_blank" : "_self";
        console.log($(this).data("selectid"));
        a.data("href") && window.open(a.data("href"), b)
    })
});
$(function () {
    $("[data-fancyboxOpen]").click(function (a) {
        a.preventDefault();
        var b = $("[data-fancyboxOpen]").index(this);
        a = $(this).data("fancyboxopen");
        $.fancybox.open({
            href: a,
            type: "iframe",
            padding: 20,
            autoSize: !1,
            height: 150,
            afterShow: function () {
                $(this.content).focus()
            },
            beforeClose: function () {
                $("[data-fancyboxOpen]").eq(b).focus()
            }
        })
    });
    $(document).on("keydown", ".fancybox-close", function (a) {
        9 == a.keyCode && (a.stopPropagation(), a.preventDefault(), $.fancybox.close())
    })
});
$(function () {
    function a(b) {
        $(b).hasClass("active") ? ($.fn.JPhoneticRecovery({
            Selector: ".page-content"
        }), $(b).removeClass("active")) : ($.fn.JPhonetic ? $.fn.JPhonetic({
            Selector: ".page-content",
            ExSelector: ".page-select,.xxxx"
        }) : $.getScript("/scripts/JPhonetic.js", function (c, d, e) {
            $.fn.JPhonetic({
                Selector: ".page-content",
                ExSelector: ".page-select,.xxxx"
            })
        }), $(b).addClass("active"))
    }
    $(".bopomofo").click(function (b) {
        b.preventDefault();
        a(this)
    })
});

function doSearch(a) {
    a = a.closest("div").find('[data-search="' + a.attr("data-search") + '"]').val();
    window.location.href = "Advanced_Search.aspx?q=" + a
}
$(function () {
    $(".CCMS_SearchBtn").each(function () {
        $(this).click(function () {
            doSearch($(this))
        })
    });
    $(".C_Pager").each(function () {
        var a = $(this).data("path"),
            b = $(this).find("select");
        $(this).find(".btn").click(function () {
            var c = b.val();
            window.location = a + "&page=1&PageSize=" + c
        })
    })
});
$(function () { });

function CCMS_Print(a) {
    $.ajax({
        url: "/Common/CCMS_WebAPI.ashx?Type=GetSitesPrint&SitesSN=" + a,
        type: "get",
        success: function (b) {
            var c = $('<div class="group-list content" data-setlen="1" data-type="4" data-child="2"><div class="in"><div class="ct"><div class="in">' + b.PrintFooterContent + "</div></div></div></div>");
            $(".group.base-section").after(c);
            var d = $('<div class="group-list content" data-setlen="1" data-type="4" data-child="2"><div class="in"><div class="ct"><div class="in">' + b.PrintTopContent + "</div></div></div></div>");
            $(".group.base-section").before(d);
            setTimeout(function () {
                print();
                c.remove();
                d.remove()
            }, 100)
        },
        error: function () { }
    })
};