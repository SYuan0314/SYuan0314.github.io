define(["getNode","mobileFilter"],function(d,p){return function(h,k,l){var b={activeClass:"is-active",parentClass:"is-parent",event:"click",debug:!1};$.extend(b,k);var m=d.getCtItem(h),f=d.getChildGroup(h),g=d.getHd(f);k=d.getCt(f);g=g.find("a");$(h).find("a").eq(-1);k.each(function(){var a=$(this).find(".in li"),e=a.length;a.eq(-1).on("keydown",function(c){1==c.shiftKey&&9==c.which?a.eq(e-2).focus():9==c.which&&f.parent("li").removeClass("is-active")})});f.each(function(a,e){var c=$(this),n=c.parent("li");
d.getCt(c).find("a").length&&n.addClass(b.parentClass)});g.on(b.event,function(a){var e=$(this);e.closest("li").hasClass(b.parentClass)&&a.preventDefault();e.trigger(l)});g.on(l,function(){var a=$(this).closest("li");a.data("index");a.hasClass(b.activeClass)?a.removeClass(b.activeClass):(m.removeClass(b.activeClass),a.addClass(b.activeClass))});b.debug&&(console.log("\u9810\u8a2d\u503c:",b),console.log("\u6a94\u6848 "+l+".js \u5df2\u9806\u5229\u57f7\u884c\u3002"))}});